### 使用ejs模板，创建form表单添加页和添加后的列表页。

#### 表单提交的方法：

- 大体上讲，向服务器发送客户端数据有两种方式：查询字符串和请求正文。通常，如果是使用查询字符串，就发起了一个 GET 请求；如果是使用请求正文，就发起了一个 POST 请求

- 建议使用post提交表单，如果使用get请求，用户会在查询字符串中看到所有的输入数据（包括隐藏域）。

#### 表单处理：

- get提交的表单，表单域在req.query对象中。

- post提交的表单，通过body-parser中间件处理后，请求体在req.body对象中调用。（查询字符串仍在req.query对象中）

#### 处理完表单：

- 直接响应HTML：处理表单之后，可以直接向浏览器返回 HTML(如果用户尝试重新加载页面，这种方法就会产生警告，并且会影响书签和后退按钮。基于这些原因，不推荐这种方法)

- 使用303重定向，各种重定向的代码含义：http://blog.csdn.net/liaomin416100569/article/details/45969749

  1. 重定向到专有的成功/失败页面：便于分析，用户体验差
  2. 运用flash消息重定向到原来位置：有许多小表单分散在整个站点中（例如，电子邮件登录），最好的用户体验是不干扰用户的导航流。也就是说，需要一个不用离开当前页面就能提交表单的方法。当然，要做到这一点，可以用 AJAX，但是如果你不想用 AJAX（或者你希望备用机制能够提供一个好的用户体验），可以重定向回用户之前浏览的页面。最简单的方法是在表单中使用一个隐藏域来存放当前 URL。因为你想有一种反馈，表明用户的提交信息已收到，所以你可以使用 flash 消息。
  3. 运用flash消息重定向到新位置：将用户导向下一个期望页面，如果要提示用户提交结果，可以用flash消息显示。


- 处理ajax表单：如果是AJAX请求，req.xhr值为 true。req.accepts 试图确定返回的最合适的响应类型。req.accepts('json,html') 询问最佳返回格式是JSON 还是 HTML，根据这两个属性返回合适的数据。

- 指定enctype="multipart/form-data"，来启用文件上传（下一节详情）